import{r as t,h as e}from"./p-6450b217.js";class s{getValueFromAPI(t){switch(alert("Calling External API..."),t){case"Bitcoin":return"Bitcoin: $1,000";case"Ethereum":return"Ethereum: $500";case"Litecoin":return"Litecoin: $300"}}}class a{constructor(){this.api=new s,this.cache={}}getValue(t){return null==this.cache[t]?this.cache[t]=this.api.getValueFromAPI(t):alert("Since the value is already in cache, I don't need to call external API this time!"),alert(this.cache[t]),this.cache[t]}}class i{constructor(t){this.fileName=t}play(){null==this.myMusic?this.myMusic=new r(this.fileName):alert("No need to download "+this.fileName),this.myMusic.play()}getFileName(){return this.fileName}}class r{constructor(t){this.fileName=t,this.download()}download(){alert("downloading "+this.fileName)}play(){alert("Play "+this.fileName)}getFileName(){return this.fileName}}class l{constructor(){this.musicLibrary={}}add(t){const e=t.getFileName();this.musicLibrary[e]=t}play(t){this.musicLibrary[t].play()}}const n=class{constructor(e){t(this,e),this.musicLibrary=new l,this.fileNames=["A","B","C"],this.proxy=new a}render(){return e("div",{class:"margin20"},e("h3",null,"Proxy Pattern"),e("h6",{class:"grayHint"},"- Allows providing a substitue or placeholder for another object. The proxy object controls all the access of the original objects and allows you to add additional request either before or after of the original behavior"),e("h6",{class:"grayHint"},"- 타겟 객체를 직접 실행하기 전에 프록시 객체가 타겟 객체의 요청을 관리한다. 타겟 요청 전후로 추가적인 함수를 실행하는 패턴을 넣을 수 있다."),e("h5",{class:"margin20"},"Example 1: Web Music Player"),e("h6",{class:"grayHint"},"- 필요한 음악만 다운로드한 후 재생한다. 같은 음악을 2번째로 재생 요청을 할 때는 이전에 다운로드한 음악을 proxy 에 저장해두어서 매번 같은 음악을 다운로드 하지 않고 cache 에 저장된 음악을 재생할 수 있다."),e("button",{onClick:()=>this.play("A"),class:"waves-effect waves-light btn-large margin20 blue"},"Play Music A"),e("button",{onClick:()=>this.play("B"),class:"waves-effect waves-light btn-large margin20 blue"},"Play Music B"),e("button",{onClick:()=>{this.play("A"),this.play("C")},class:"waves-effect waves-light btn-large margin20 blue"},"Play Music A and C"),e("button",{onClick:()=>{this.play("A"),this.play("B"),this.play("C")},class:"waves-effect waves-light btn-large margin20 blue"},"Play Music A, B and C"),e("h5",{class:"margin20"},"Example 2: Crypto Currency Proxy"),e("h6",{class:"grayHint"},"- 2번째 currency 요청을 할 때는 이전에 불러왔던 API 데이터 값을 proxy cache object 에 저장해두어서 매번 API 콜을 부르지 않고 cache 에 저장된 값을 불러올 수 있다."),e("button",{class:"waves-effect waves-light btn-large margin20",onClick:()=>this.getCurrency("Bitcoin")},"Bitcoin Currency"),e("button",{class:"waves-effect waves-light btn-large margin20",onClick:()=>this.getCurrency("Ethereum")},"Ethereum Currency"),e("button",{class:"waves-effect waves-light btn-large margin20",onClick:()=>this.getCurrency("Litecoin")},"Litecoin Currency"),e("pattern-photos",{uml:"proxy-uml.png",imp:"proxy-i.png",cl:"proxy-1.png",cl2:"proxy-2.png"}))}componentWillLoad(){this.fileNames.forEach(t=>{this.musicLibrary.add(new i(t))})}play(t){this.musicLibrary.play(t)}getCurrency(t){this.proxy.getValue(t)}static get style(){return"STYLE_TEXT_PLACEHOLDER:app-proxy"}};export{n as app_proxy};