System.register(['./p-70e1058c.system.js'], function (exports) {
    'use strict';
    var registerInstance, h;
    return {
        setters: [function (module) {
                registerInstance = module.r;
                h = module.h;
            }],
        execute: function () {
            // Client
            var Point = /** @class */ (function () {
                function Point(x, y, icon) {
                    this.x = x;
                    this.y = y;
                    this.icon = icon;
                }
                Point.prototype.draw = function () {
                    alert(this.x + " " + this.y + " " + this.icon.getType());
                };
                return Point;
            }());
            // Client
            var PointService = /** @class */ (function () {
                function PointService(iconFactory) {
                    this.iconFactory = iconFactory;
                }
                PointService.prototype.getPoints = function () {
                    var points = [];
                    var point = new Point(1, 1, this.iconFactory.getPointIcon(PointType.CAFE));
                    points.push(point);
                    return points;
                };
                return PointService;
            }());
            // Flyweight
            var PointIcon = /** @class */ (function () {
                function PointIcon(type, icon) {
                    this.type = type;
                    this.icon = icon;
                    console.log(this.icon);
                }
                PointIcon.prototype.getType = function () {
                    return this.type;
                };
                return PointIcon;
            }());
            var PointType;
            (function (PointType) {
                PointType["HOSPITAL"] = "HOSPITAL";
                PointType["RESTAURANT"] = "RESTAURANT";
                PointType["CAFE"] = "CAFE";
            })(PointType || (PointType = {}));
            // Flyweight Factory
            var PointIconFactory = /** @class */ (function () {
                function PointIconFactory() {
                    //private icons: Partial<PointType & PointIcon> = {};
                    this.icons = {};
                }
                PointIconFactory.prototype.getPointIcon = function (type) {
                    if (!(this.icons[type])) {
                        var icon = new PointIcon(type, null);
                        this.icons[type] = icon;
                    }
                    return this.icons[type];
                };
                return PointIconFactory;
            }());
            var Flyweight = exports('app_flyweight', /** @class */ (function () {
                function class_1(hostRef) {
                    registerInstance(this, hostRef);
                }
                class_1.prototype.render = function () {
                    var _this = this;
                    return (h("div", { class: "margin20" }, h("h3", null, "Flyweight Pattern"), h("h6", { class: "grayHint" }, "- Allows sharing common state between multiple objects "), h("h6", { class: "grayHint" }, "- \uAC01 \uAC1D\uCCB4\uC5D0 \uBAA8\uB4E0 \uB370\uC774\uD130\uB97C \uC800\uC7A5\uD558\uC9C0 \uC54A\uACE0 \uC5EC\uB7EC \uAC1D\uCCB4 \uC0AC\uC774\uC758 \uACF5\uD1B5\uB41C state \uB97C \uACF5\uC720\uD558\uC5EC RAM \uBA54\uBAA8\uB9AC\uB97C \uC801\uAC8C \uCC28\uC9C0\uD558\uB3C4\uB85D \uC124\uACC4\uD558\uB294 \uD328\uD134\uC774\uB2E4."), h("button", { class: "btn", onClick: function (_) { return _this.draw(); } }, "Draw"), h("pattern-photos", { uml: "flyweight-uml.png", imp: "flyweight-i.png", cl: "flyweight-1.png", cl2: "flyweight-2.png" })));
                };
                class_1.prototype.draw = function () {
                    var service = new PointService(new PointIconFactory());
                    for (var _i = 0, _a = service.getPoints(); _i < _a.length; _i++) {
                        var point = _a[_i];
                        point.draw();
                    }
                };
                Object.defineProperty(class_1, "style", {
                    get: function () { return "STYLE_TEXT_PLACEHOLDER:app-flyweight"; },
                    enumerable: true,
                    configurable: true
                });
                return class_1;
            }()));
        }
    };
});
