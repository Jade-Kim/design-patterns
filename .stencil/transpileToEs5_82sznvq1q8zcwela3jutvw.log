var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
System.register(['./p-70e1058c.system.js'], function (exports) {
    'use strict';
    var registerInstance, h;
    return {
        setters: [function (module) {
                registerInstance = module.r;
                h = module.h;
            }],
        execute: function () {
            var Handler = /** @class */ (function () {
                function Handler(next) {
                    this.next = next;
                }
                Handler.prototype.handle = function (request) {
                    if (this.doHandle(request))
                        return;
                    if (this.next != null)
                        this.next.handle(request);
                };
                return Handler;
            }());
            // ** Concrete Handler
            var Authenticator = /** @class */ (function (_super) {
                __extends(Authenticator, _super);
                function Authenticator(next) {
                    return _super.call(this, next) || this;
                }
                Authenticator.prototype.doHandle = function (request) {
                    // authenticator logic
                    var isValid = (request.getUsername() == "admin" &&
                        request.getPassword() == "1234");
                    alert("Authentication " + isValid);
                    if (!isValid)
                        return !isValid;
                };
                return Authenticator;
            }(Handler));
            var Logger = /** @class */ (function (_super) {
                __extends(Logger, _super);
                function Logger(next) {
                    return _super.call(this, next) || this;
                }
                Logger.prototype.doHandle = function (request) {
                    // login logic
                    alert("Logger " + request);
                    return false;
                };
                return Logger;
            }(Handler));
            var WebServer = /** @class */ (function () {
                function WebServer(handler) {
                    if (handler !== null)
                        this.handler = handler;
                }
                WebServer.prototype.handle = function (request) {
                    this.handler.handle(request);
                };
                return WebServer;
            }());
            var LoginRequest = /** @class */ (function () {
                function LoginRequest(username, password) {
                    this.username = username;
                    this.password = password;
                }
                LoginRequest.prototype.getUsername = function () {
                    return this.username;
                };
                LoginRequest.prototype.getPassword = function () {
                    return this.password;
                };
                return LoginRequest;
            }());
            var Chain = exports('app_chain', /** @class */ (function () {
                function class_1(hostRef) {
                    registerInstance(this, hostRef);
                    // 1. authenticator -> 2. logger
                    this.logger = new Logger(null);
                    this.authenticator = new Authenticator(this.logger);
                    this.server = new WebServer(this.authenticator);
                }
                class_1.prototype.render = function () {
                    var _this = this;
                    return (h("div", { class: "margin20" }, h("h3", null, "Chain of Responsiblility Pattern"), h("h6", { class: "grayHint" }, "- Allows building an order of request objects"), h("h6", { class: "grayHint" }, "- \uC694\uCCAD\uC744 \uC21C\uC11C\uB300\uB85C \uCCB4\uC778\uD654 \uD558\uACE0\uC790 \uD560 \uB54C \uC0AC\uC6A9\uD558\uB294 \uD328\uD134"), h("br", null), h("input", { placeholder: "Username: admin", ref: function (el) { return _this.username = el; } }), h("input", { placeholder: "Password: 1234", ref: function (el) { return _this.pw = el; } }), h("button", { class: "waves-effect waves-light btn-large margin20", onClick: function () { return _this.login(); } }, "Log in"), this.result, h("pattern-photos", { uml: "chain-uml.png", imp: "chain-i.png", cl: "chain-1.png", cl2: "chain-2.png" })));
                };
                class_1.prototype.login = function () {
                    var request = new LoginRequest(this.username.value, this.pw.value);
                    this.server.handle(request);
                };
                Object.defineProperty(class_1, "style", {
                    get: function () { return "STYLE_TEXT_PLACEHOLDER:app-chain"; },
                    enumerable: true,
                    configurable: true
                });
                return class_1;
            }()));
        }
    };
});
